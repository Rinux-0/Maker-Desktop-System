add_subdirectory_if_exist(comm)
if(DEFINED CONFIG_DEVICE)
	add_subdirectory_if_exist(device)
elseif(DEFINED CONFIG_HEALTH)
	add_subdirectory_if_exist(health)
endif()



if(DEFINED CONFIG_DEVICE)
	if(DEFINED CONFIG_DEVICE_RECEIVER)
	elseif(DEFINED CONFIG_DEVICE_KEYBOARD)
	elseif(DEFINED CONFIG_DEVICE_KEYPAD)
	elseif(DEFINED CONFIG_DEVICE_KNOB)
	elseif(DEFINED CONFIG_DEVICE_LAMP)
	elseif(DEFINED CONFIG_DEVICE_MOUSE)
	elseif(DEFINED CONFIG_DEVICE_NFC)
	elseif(DEFINED CONFIG_DEVICE_UNION)
	else()
		message(FATAL_ERROR "This device can't be recognized!")
	endif()
elseif(DEFINED CONFIG_HEALTH)
	if(DEFINED CONFIG_HEALTH_DISTANCE)
	elseif(DEFINED CONFIG_HEALTH_FINGERPRINT)
	elseif(DEFINED CONFIG_HEALTH_HEART)
	elseif(DEFINED CONFIG_HEALTH_TEMPERATURE)
	else()
		message(FATAL_ERROR "This health can't be recognized!")
	endif()
else()
	message(FATAL_ERROR "There is no device or health!")
endif()



file(GLOB_RECURSE SRC_CURRENT
	${CMAKE_CURRENT_SOURCE_DIR}/demo.c
	${CMAKE_CURRENT_SOURCE_DIR}/util/*.c
)
set(HEAD_DIR_CURRENT
	${CMAKE_CURRENT_SOURCE_DIR}
	${CMAKE_CURRENT_SOURCE_DIR}/util/def
	${CMAKE_CURRENT_SOURCE_DIR}/util/tool
)



set(SOURCES ${SOURCES}
	${SRC_CURRENT}
	PARENT_SCOPE
)
set(PUBLIC_HEADER ${PUBLIC_HEADER}
	${HEAD_DIR_CURRENT}
	PARENT_SCOPE
)
