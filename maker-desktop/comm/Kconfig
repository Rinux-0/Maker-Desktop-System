menu "communication"
	comment "数据格式"

	config COMM_FORMAT_CTRL
		bool "【控制指令】格式"
		depends on DEVICE_KNOB || DEVICE_LAMP || DEVICE_UNION

	menuconfig COMM_FORMAT_HID
		bool "【HID】格式"
		depends on DEVICE_DYNAMIC || DEVICE_KEYBOARD || DEVICE_KEYPAD || TEST_KEYTEST || DEVICE_MOUSE
		if COMM_FORMAT_HID
			choice
				prompt "芯片"
				default COMM_FORMAT_HID_CH9329
				config COMM_FORMAT_HID_CH9329
					bool "通过【CH9329】芯片"
				config COMM_FORMAT_HID_XXX
					bool "通过【xxx】芯片"
			endchoice
		endif

	config COMM_FORMAT_PERSON
		bool "【个人数据】格式"
		depends on DEVICE_DYNAMIC || DEVICE_HEALTH



	comment "通讯方式"

	config COMM_I2C # 只用于测距
		bool "【I2C】方式"
		depends on DEVICE_HEALTH

	config COMM_I2S
		bool "【I2S】方式"
		depends on DEVICE_KEYBOARD || DEVICE_KEYPAD || TEST_KEYTEST

	config COMM_SPI
		bool "【SPI】方式"
		depends on DEVICE_KEYBOARD || DEVICE_KEYPAD || TEST_KEYTEST || TEST_TMP

	menuconfig COMM_UART
		bool "【UART】方式"
		# depends on
		if COMM_UART
			config COMM_UART_BUS_ID
				int "UART 总线号[0/1/2]"	# 4位数，首位为0表示8进制
				default 0111 if DEVICE_DYNAMIC
				default 0011 if DEVICE_HEALTH || DEVICE_KEYBOARD
				default 0010 if !DEVICE_DYNAMIC && !DEVICE_HEALTH && !DEVICE_KEYBOARD
				default 0000 if TEST_TMP	# 不用 UART
		endif

	menuconfig COMM_SLE
		bool "【SLE】方式"
		depends on !DEVICE_HEALTH && !TEST_TMP
		if COMM_SLE
			config COMM_SLE_CLIENT
				bool "【client】模式"
				depends on DEVICE_UNION
			config COMM_SLE_SERVER
				bool "【server】模式"
				depends on ! DEVICE_UNION
		endif

	config COMM_WIFI
		bool "【WIFI】方式"
		depends on DEVICE_DYNAMIC || DEVICE_HEALTH
endmenu
